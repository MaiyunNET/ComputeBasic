<!DOCTYPE HTML>
<html>
	<head>
        <title>ComputeBasic Test</title>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <script src="//cdn.jsdelivr.net/npm/systemjs@0/dist/system.js"></script>
        <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
        <script>
            System.config({
                packages: {
                    '../dist': {
                        defaultExtension: 'js?1'
                    }
                }
            });
            System.import('../dist/test').then(function() {
                document.getElementById("mask").classList.remove("show");
            });
        </script>
        <style>
            body{margin: 10px;}

            .box{border: solid 1px #000; min-height: 50px; padding: 10px; box-sizing: border-box; resize: vertical;}
            .line{margin-top: 10px;}
            .flex{display: flex;}
            .flex > div{flex: 1;}

            #mask{position: fixed; left: 0; top: 0; width: 100%; height: 100%; display: none; justify-content: center; align-items: center; background-color: rgba(0, 0, 0, .7); color: #FFF;}
            #mask.show{display: flex;}
        </style>
	</head>
	<body>
        <div class="flex">
            <div>
                Compute Basic Code:
                <div class="line">
                    <textarea id="code" style="width: 100%; height: 250px;" class="box"></textarea>
                </div>
                <div class="line">
                    <input id="compilerBtn" type="button" value="Compile to js code string">
                </div>
            </div>
            <div style="margin-left: 10px;">
                UI:
                <div class="box line" style="height: 250px;">
                    <div>
                        Input name is "a":
                    </div>
                    <div class="line">
                        <input name="a" value="-43">
                    </div>
                    <div class="line">
                        Input name is "b":
                    </div>
                    <div class="line">
                        <input name="b" value="-14">
                    </div>
                    <div class="line">
                        Result: <span id="uiResult">0</span>
                    </div>
                </div>
                <div class="line">
                    <input id="crunBtn" type="button" value="Compile and run">
                </div>
            </div>
        </div>
        <div class="line">
            Result:
        </div>
        <div id="result" class="box line"></div>

        <!--- 遮罩 --->
        <div id="mask" class="show">Loading...</div>
	</body>
</html>